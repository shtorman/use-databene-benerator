SET foreign_key_checks = 0;
CREATE TABLE `S_Department` (  `id_dept` INT UNSIGNED NOT NULL AUTO_INCREMENT,  `id_prem_dept` INT UNSIGNED NULL DEFAULT NULL,  `id_org` INT UNSIGNED NOT NULL,  `caption` VARCHAR(255) NOT NULL,  `note` VARCHAR(255) NULL DEFAULT NULL,  PRIMARY KEY (`id_dept`),  CONSTRAINT `fk_org.S_Department`    FOREIGN KEY (`id_org`)    REFERENCES `S_Organization` (`id_org`)    ON DELETE NO ACTION    ON UPDATE NO ACTION,  CONSTRAINT `fk_prem_dept.S_Department`    FOREIGN KEY (`id_prem_dept`)    REFERENCES `S_Department` (`id_dept`)    ON DELETE NO ACTION    ON UPDATE NO ACTION)ENGINE = InnoDB CHARACTER SET utf8;
CREATE TABLE `S_Job_Title` (  `id_job` INT UNSIGNED NOT NULL AUTO_INCREMENT,  `caption` VARCHAR(255) NOT NULL,  `chief` INT NOT NULL,  `place` INT NOT NULL,  `treb_staj_rab` INT NULL DEFAULT NULL,  `date_set` DATETIME NOT NULL,  `note` VARCHAR(255) NULL DEFAULT NULL,  PRIMARY KEY (`id_job`))ENGINE = InnoDB CHARACTER SET utf8;
CREATE TABLE `S_Organization` (  `id_org` INT UNSIGNED NOT NULL AUTO_INCREMENT,  `bik` VARCHAR(9) NOT NULL,  `caption` VARCHAR(255) NOT NULL,  `short_caption` VARCHAR(50) NOT NULL,  `ur_strana` VARCHAR(255) NOT NULL,  `ur_index` VARCHAR(255) NOT NULL,  `ur_nas_punkt` VARCHAR(45) NOT NULL,  `ur_ulica` VARCHAR(45) NOT NULL,  `ur_dom` VARCHAR(45) NOT NULL,  `ur_office` VARCHAR(45) NOT NULL,  `telefon` VARCHAR(45) NOT NULL,  `faks` VARCHAR(45) NULL DEFAULT NULL,  `email` VARCHAR(45) NULL DEFAULT NULL,  `webpage` VARCHAR(45) NULL DEFAULT NULL,  `fio_ruk` VARCHAR(255) NOT NULL,  `form_sobs` VARCHAR(255) NULL DEFAULT NULL,  `rschet` VARCHAR(45) NULL DEFAULT NULL,  `kschet` VARCHAR(45) NULL DEFAULT NULL,  `INN` VARCHAR(45) NOT NULL,  `KPP` VARCHAR(45) NOT NULL,  `date_update` DATETIME NOT NULL,  `note` VARCHAR(255) NULL DEFAULT NULL,  PRIMARY KEY (`id_org`))ENGINE = InnoDB CHARACTER SET utf8;
CREATE TABLE `S_Person` (  `id_person` INT UNSIGNED NOT NULL AUTO_INCREMENT,  `name` VARCHAR(255) NOT NULL,  `fam` VARCHAR(255) NOT NULL,  `otch` VARCHAR(255) NOT NULL,  `email` VARCHAR(45) NULL DEFAULT NULL,  `telefone` VARCHAR(12) NULL DEFAULT NULL,  `sex` VARCHAR(1) NULL DEFAULT NULL,  `date_born` INT NOT NULL,  `admin` ENUM('y','n') NULL DEFAULT 'n',  `login` VARCHAR(60) NOT NULL,  `password` VARCHAR(60) NOT NULL,  `strana` VARCHAR(45) NULL DEFAULT NULL,  `index` VARCHAR(6) NULL DEFAULT NULL,  `nas_punkt` VARCHAR(255) NULL DEFAULT NULL,  `street` VARCHAR(255) NULL DEFAULT NULL,  `home` VARCHAR(10) NULL DEFAULT NULL,  `flat` INT NULL DEFAULT NULL,  `semeinoe_polojenie` VARCHAR(45) NULL DEFAULT NULL,  `date_change` DATETIME NULL DEFAULT NULL,  `note` VARCHAR(255) NULL DEFAULT NULL,  PRIMARY KEY (`id_person`))ENGINE = InnoDB CHARACTER SET utf8;
CREATE TABLE `T_Employee` (  `id_employee` INT UNSIGNED NOT NULL AUTO_INCREMENT,  `id_job` INT UNSIGNED NOT NULL,  `id_person` INT UNSIGNED NOT NULL,  `id_dept` INT UNSIGNED NOT NULL,  `main_job` TINYINT(1) NOT NULL,  `date_set` DATETIME NOT NULL,  `date_end` DATETIME NULL DEFAULT NULL,  `active` TINYINT(1) NOT NULL,  PRIMARY KEY (`id_employee`),  CONSTRAINT `fk_job.T_Employee`    FOREIGN KEY (`id_job`)    REFERENCES `S_Job_Title` (`id_job`)    ON DELETE NO ACTION    ON UPDATE NO ACTION,  CONSTRAINT `fk_person.T_Employee`    FOREIGN KEY (`id_person`)    REFERENCES `S_Person` (`id_person`)    ON DELETE NO ACTION    ON UPDATE NO ACTION,  CONSTRAINT `fk_dept.T_Employee`    FOREIGN KEY (`id_dept`)    REFERENCES `S_Department` (`id_dept`)    ON DELETE NO ACTION    ON UPDATE NO ACTION)ENGINE = InnoDB CHARACTER SET utf8;
CREATE INDEX `id_dept.T_Employee` ON `T_Employee` (`id_dept` ASC);
CREATE INDEX `id_org.S_Department` ON `S_Department` (`id_org` ASC);
CREATE INDEX `id_person.T_Employee` ON `T_Employee` (`id_person` ASC);
CREATE INDEX `id_prem_dept.S_Department` ON `S_Department` (`id_prem_dept` ASC);
CREATE INDEX `id_job.S_Job_Title` ON `S_Job_Title` (`id_job` ASC);
CREATE INDEX `id_person.S_Person` ON `S_Person` (`id_person` ASC);
SET foreign_key_checks = 1;